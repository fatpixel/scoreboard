this.Scoreboard=function(window,document,$,hogan){"use strict";var $players,Deferred=$.Deferred,_noop=$.noop,_defer=function(){return new Deferred},Hoganizer={data:{players:[]}},_refreshPlayers=function(playerId){var deferredRender=_defer();return deferredRender.done(function(result){var $rendered=_render(result,Hoganizer.data);playerId&&$rendered.find('[data-player="'+playerId+'"]').addClass("selected")}),_fetchPlayers().done(function(response){return console.log("Players Fetched",response),deferredRender.resolve({players:response.data}),deferredRender})},_award=function(playerId,points,cb){return $.ajax({url:"/api/players/"+playerId+"/award/"+points,dataType:"jsonp",success:cb||_noop}).done(function(){return _refreshPlayers(playerId)})},_fetchPlayers=function(cb){return $.ajax({url:"/api/players",dataType:"jsonp",success:cb||_noop})},_render=function(context,cache){var rendered=Hoganizer.players.render(context?context:{players:context.data||cache.players});return $players.empty(),$players.append($(rendered))},_init=function(selector){$(document).foundation();var source=$("#template--players").html();return Hoganizer.players=hogan.compile(source),$players=$("ul.players").parent(),$(selector)};return{init:_init,award:_award,fetchPlayers:_fetchPlayers,refreshPlayers:_refreshPlayers,render:_render}}(this,this.document,jQuery,Hogan);